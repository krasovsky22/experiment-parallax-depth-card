{"version":3,"sources":["../../src/index.tsx","App.tsx","index.tsx"],"names":["ParallaxDepthCard","children","cardWrapRef","React","width","height","mouseX","mouseY","mounted","mouseLeaveDelay","handleMouseEnter","clearTimeout","handleMouseLeave","setTimeout","setState","state","mousePX","mousePY","className","styles","onClick","onMouseMove","event","newState","handleMouseMove","onMouseEnter","onMouseLeave","ref","style","rX","rY","transform","cardStyle","tX","tY","cardBgTransform","backgroundImage","backgroundUrl","App","title","console","log","ReactDOM","render","document","getElementById"],"mappings":"ibAkBaA,EAA0D,SAAC,GAAD,IAAC,EAAD,EAAC,gBAAD,EAAC,QAAD,EAAC,QAItEC,EAJqE,EAIrEA,SAEMC,EAAcC,iBAApB,MANqE,EAQ3C,mBAA2C,CACnEC,MADmE,EAEnEC,OAFmE,EAGnEC,OAHmE,EAInEC,OAJmE,EAKnEC,SAAS,IAb0D,mBAQ/D,EAR+D,KAQ/D,EAR+D,KAgBjEC,EAAJ,KAeMC,EAAmB,uBAAkB,WACzC,GACEC,kBAED,CAJH,IAMMC,EAAmB,uBAAkB,WACzCH,EAAkBI,YAAW,WAC3BC,EAAS,8BAAD,IAAaR,OAAZ,EAAuBC,OAAQ,OAD1CE,OAGC,CAACA,EAJJ,IAMAN,qBAAgB,YACd,EAAQK,UAIN,OACAN,QADA,IACAA,OADA,EACAA,EADA,cAEAa,SAHF,IAIEA,UAEAD,EAAS,8BAAD,IAENV,MAAOF,UAFA,YAGPG,OAAQH,UAHD,aAIPM,SAAS,QAMf,IAAMQ,EAAU,kBAAMD,SAAeA,EAArC,OACME,EAAU,kBAAMF,SAAeA,EAArC,QAiBA,OACE,+BACEG,UAAWC,EACXC,QAAS,kBAAMA,GAAWA,MAE1B,+BACEF,UAAWC,EACXE,YAAcC,YAAD,OAtEMA,YACvB,GAAIpB,EAAJ,QAAyB,KACjB,EAAN,EAAM,MAASG,EAAf,EAAeA,OACTkB,EAAW,8BAAH,IAEZjB,OAAQgB,QAAcpB,UAAdoB,WAA+ClB,EAFxC,EAGfG,OAAQe,QAAcpB,UAAdoB,UAA8CjB,EAAS,IAGjES,MA6D0BU,CAAgBF,IACxCG,aAAcf,EACdgB,aAAcd,EACde,IAAKzB,GAEL,+BAAKgB,UAAWC,EAAaS,MA3BjB,WAChB,IAAMC,EAAN,GAAWb,IACLc,GAAN,GAAWb,IACX,MAAO,CACLc,UAAW,WAAF,OAAaF,EAAb,wBAA+BC,EAA/B,SAuB6BE,IAClC,+BACEd,UAAWC,EACXS,MAAK,2BAvBS,WACtB,IAAMK,GAAN,GAAWjB,IACLkB,GAAN,GAAWjB,IACX,MAAO,CACLc,UAAW,cAAF,OAAgBE,EAAhB,0BAAoCC,EAApC,QAoBEC,IADA,IAEHC,gBAAiB,OAAF,OAASC,EAAT,SAGnB,+BAAKnB,UAAWC,GACdhB,kCADF,GApBR,OC7DamC,G,MAxBH,WAGV,OACE,yBAAKpB,UAAU,aACb,kBAAC,EAAD,CAAmBmB,cAbvB,mKAa2CE,MAAM,aAC3C,yFAGF,kBAAC,EAAD,CACEF,cAfN,uIAgBME,MAAM,YACNnB,QAXoB,kBAAMoB,QAAQC,IAAI,aAatC,yFAGF,kBAAC,EAAD,CAAmBJ,cAnBvB,uIAmBiDE,MAAM,aACjD,4FC1BRG,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,U","file":"static/js/main.c5df6eaf.chunk.js","sourcesContent":["import * as React from 'react'\nimport styles from './styles.module.css'\n\ntype ParallaxDepthCardPropsType = {\n  backgroundUrl: string\n  title: string\n  children?: React.ReactChild\n  onClick?: Function\n}\n\ntype ParallaxDepthCardStateType = {\n  width: number\n  height: number\n  mouseX: number\n  mouseY: number\n  mounted: boolean\n}\n\nexport const ParallaxDepthCard: React.FC<ParallaxDepthCardPropsType> = ({\n  backgroundUrl,\n  title,\n  onClick,\n  children\n}: ParallaxDepthCardPropsType) => {\n  const cardWrapRef = React.useRef<HTMLDivElement>(null)\n\n  const [state, setState] = React.useState<ParallaxDepthCardStateType>({\n    width: 0,\n    height: 0,\n    mouseX: 0,\n    mouseY: 0,\n    mounted: false\n  })\n\n  let mouseLeaveDelay: NodeJS.Timeout | null = null\n\n  const handleMouseMove = (event: React.MouseEvent) => {\n    if (cardWrapRef.current) {\n      const { width, height } = state\n      const newState = {\n        ...state,\n        mouseX: event.pageX - cardWrapRef.current.offsetLeft - width / 2,\n        mouseY: event.pageY - cardWrapRef.current.offsetTop - height / 2\n      }\n\n      setState(newState)\n    }\n  }\n\n  const handleMouseEnter = React.useCallback(() => {\n    if (mouseLeaveDelay) {\n      clearTimeout(mouseLeaveDelay)\n    }\n  }, [mouseLeaveDelay])\n\n  const handleMouseLeave = React.useCallback(() => {\n    mouseLeaveDelay = setTimeout(() => {\n      setState({ ...state, mouseX: 0, mouseY: 0 })\n    }, 1000)\n  }, [mouseLeaveDelay, state])\n\n  React.useEffect(() => {\n    const { mounted } = state\n\n    // mimic react.didMount()\n    if (\n      !mounted &&\n      cardWrapRef?.current &&\n      state.width === 0 &&\n      state.height === 0\n    ) {\n      setState({\n        ...state,\n        width: cardWrapRef.current.offsetWidth,\n        height: cardWrapRef.current.offsetHeight,\n        mounted: true\n      })\n    }\n  })\n\n  // computed props\n  const mousePX = () => state.mouseX / state.width\n  const mousePY = () => state.mouseY / state.height\n\n  const cardStyle = () => {\n    const rX = mousePX() * 30\n    const rY = mousePY() * -30\n    return {\n      transform: `rotateY(${rX}deg) rotateX(${rY}deg)`\n    }\n  }\n  const cardBgTransform = () => {\n    const tX = mousePX() * -40\n    const tY = mousePY() * -40\n    return {\n      transform: `translateX(${tX}px) translateY(${tY}px)`\n    }\n  }\n\n  return (\n    <div\n      className={styles['card-container']}\n      onClick={() => onClick && onClick()}\n    >\n      <div\n        className={styles['card-wrap']}\n        onMouseMove={(event) => handleMouseMove(event)}\n        onMouseEnter={handleMouseEnter}\n        onMouseLeave={handleMouseLeave}\n        ref={cardWrapRef}\n      >\n        <div className={styles.card} style={cardStyle()}>\n          <div\n            className={styles['card-bg']}\n            style={{\n              ...cardBgTransform(),\n              backgroundImage: `url(${backgroundUrl})`\n            }}\n          />\n          <div className={styles['card-info']}>\n            <h1>{title}</h1>\n            {children}\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\n\nimport { ParallaxDepthCard } from 'experiment-parallax-depth-card'\nimport 'experiment-parallax-depth-card/dist/index.css'\n\nconst URL =\n  'https://images.unsplash.com/photo-1479660656269-197ebb83b540?dpr=2&amp;auto=compress,format&amp;fit=crop&amp;w=1199&amp;h=798&amp;q=80&amp;cs=tinysrgb&amp;crop='\n\nconst BEACH_URL =\n  'https://images.unsplash.com/photo-1479659929431-4342107adfc1?dpr=2&auto=compress,format&fit=crop&w=1199&h=799&q=80&cs=tinysrgb&crop='\n\nconst WATER_URL =\n  'https://images.unsplash.com/photo-1479621051492-5a6f9bd9e51a?dpr=2&auto=compress,format&fit=crop&w=1199&h=811&q=80&cs=tinysrgb&crop='\n\nconst App = () => {\n  const handleButtonClick = () => console.log('clicked')\n\n  return (\n    <div className='container'>\n      <ParallaxDepthCard backgroundUrl={URL} title='Some Card'>\n        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit.</p>\n      </ParallaxDepthCard>\n\n      <ParallaxDepthCard\n        backgroundUrl={BEACH_URL}\n        title='Some Card'\n        onClick={handleButtonClick}\n      >\n        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit.</p>\n      </ParallaxDepthCard>\n\n      <ParallaxDepthCard backgroundUrl={WATER_URL} title='Some Card'>\n        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit.</p>\n      </ParallaxDepthCard>\n    </div>\n  )\n}\n\nexport default App\n","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}